<!--
@file: docs/changelog.md
@description: Хронологический журнал изменений проекта
@dependencies: docs/Project.md, docs/tasktracker.md
@created: 2025-08-19
-->

## [2025-08-19] - Инициализация документации проекта
### Добавлено
- Базовые документы в `docs/`: `Project.md`, `tasktracker.md`, `changelog.md`, `Diary.md`, `qa.md`

## [2025-08-19] - Заполнены ответы в QA
### Добавлено
- Ответы на вопросы в `docs/qa.md` (версии, лицензия, slug/text-domain, i18n, WP-CLI, capabilities, .gitignore)

### Изменено
- Уточнены минимальные требования: PHP 8.1+

## [2025-08-19] - Подготовка плагина к PCP: метаданные, i18n, экранирование
### Добавлено
- Заголовок плагина: `Plugin URI`, `Requires at least`, `Tested up to`, `Requires PHP`, `License`, `License URI`, `Text Domain`, `Domain Path`, `Author URI`
- Загрузка text-domain через `plugins_loaded`
- Каталог `languages/`

### Изменено
- Переименование плагина в заголовке на `MksDdn Postman Collection`
- Переводимые строки и экранирование в `Postman_Admin`
- Сообщение об ошибке переведено на английский (PCP/i18n)

### Исправлено
- Санитизация входящих значений из `$_POST` в `Postman_Admin`

## [2025-08-19] - Локализация и дистрибутивная подготовка
### Добавлено
- `languages/mksddn-postman-collection.pot` для i18n
- `readme.txt` для публикации в WordPress.org
- `.gitignore` для GitHub

### Изменено
- Н/Д

### Исправлено
- Н/Д

## [2025-08-19] - WP-CLI экспорт коллекции
### Добавлено
- CLI: команда `wp mksddn-postman export` для вывода в файл или STDOUT

### Изменено
- Readme: добавлены инструкции по WP-CLI

### Исправлено
- Н/Д

## [2025-08-19] - Расширяемость доступа
### Добавлено
- Фильтр `mksddn_postman_capability` для переопределения требуемой capability
- Заголовок файла и док-комментарий к `includes/class-postman-cli.php`

### Изменено
- Проверки прав теперь используют фильтруемую capability

### Исправлено
- Н/Д

## [2025-08-19] - Док-комментарии и регистрация WP-CLI
### Добавлено
- Заголовочные блоки `@file` для всех основных классов (`Admin`, `Generator`, `Routes`, `Options`)

### Изменено
- Регистрация WP-CLI: теперь регистрируется класс `Postman_CLI` как команда-namespace

### Исправлено
- Н/Д

## [2025-08-19] - Исправление синтаксической ошибки
### Исправлено
- В `class-postman-admin.php` метод `get_required_capability()` вынесен из `handle_generation()`, восстановлены скобки класса

## [2025-08-19] - WPCS: wp_json_encode
### Изменено
- Заменён `json_encode` на `wp_json_encode` в генерации коллекции и маршрутах

## [2025-08-19] - Типизация и сигнатуры
### Изменено
- Уточнены типы параметров и возвращаемые массивы в `class-postman-routes.php`
- Уточнён тип `WP_REST_Server` в `class-postman-options.php::load_from_api`

## [2025-08-19] - Строгие сравнения
### Изменено
- Все `in_array()` переведены на strict режим (`true`) для предсказуемости типов

## [2025-08-19] - Readme: корректный путь в админке
### Изменено
- Инструкция обновлена: меню «Postman Collection» — топ-уровневое, не в разделе Tools

## [2025-08-19] - Uninstall stub
### Добавлено
- `uninstall.php` с безопасной проверкой и пояснением (плагин не хранит данные)

## [2025-08-19] - WPCS: колбэки хуков
### Изменено
- Заменены first-class callable на массивные колбэки в `Postman_Admin` для совместимости со стандартами

## [2025-08-19] - PCP исправления
### Изменено
- I18n: заменён домен перевода на строковый литерал `'mksddn-postman-collection'`
- Вывод checked: вместо конкатенации строк используется `checked()`
- JSON-вывод помечен как безопасный через phpcs:ignore
- Удалена явная загрузка text-domain (WP.org >= 4.6)
- Обновлён `Tested up to` до 6.8 в заголовке и `readme.txt`

## [2025-08-19] - Хуки расширения
### Добавлено
- Фильтр `mksddn_postman_collection` для модификации финального массива коллекции
- Фильтр `mksddn_postman_filename` для смены имени файла экспорта

## [2025-08-19] - План без CI
### Изменено
- Документация уточнена: исключили GitHub Actions/CI, проверки PCP/PHPCS выполняются локально

### Исправлено
- Н/Д

## [2025-08-19] - Локальный PHPCS
### Добавлено
- `phpcs.xml.dist` с правилами WPCS и PHPCompatibility (локальные проверки)

### Изменено
- Н/Д

### Исправлено
- Н/Д
### Исправлено
- Н/Д

### Изменено
- Н/Д

### Исправлено
- Н/Д


